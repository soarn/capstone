{% extends "base.html" %} {% block title %}Profile - Customize Your Experience{%
endblock %} {% block content %}
<div class="container-fluid">
  <div class="row">
    <!-- Left-side navigation -->
    <nav id="profile-nav" class="col-md-3 col-lg-2 d-md-block bg-light sidebar">
      <div class="position-sticky">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link active" href="#account-settings">
              <span data-feather="home"></span>
              Account Settings
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#theme-settings">
              <span data-feather="file"></span>
              Theme Settings
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#privacy-settings">
              <span data-feather="file"></span>
              Privacy Settings
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#notifications">
              <span data-feather="file"></span>
              Notification Settings
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Main content for settings -->
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div
        class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
        <h1 class="h2">Profile Settings</h1>
        <div id="last-login">
          <h4>Last Login</h4>
          <p>{{ current_user.last_login or "This is your first login!" }}</p>
        </div>
      </div>

      <!-- Account Settings Section -->
      <section id="account-settings">
        <h2>Account Settings</h2>
        <form method="POST" action="{{ url_for('profile.profile_page') }}">
          <div class="form-group mb-3">
            <label for="username">Username</label>
            <input
              type="text"
              class="form-control"
              id="username"
              name="username"
              value=" current_user.username "
              required />
          </div>
          <div class="form-group mb-3">
            <label for="email">Email</label>
            <input
              type="email"
              class="form-control"
              id="email"
              name="email"
              value="current_user.email"
              required />
          </div>
          <div class="form-group mb-3">
            <label for="password">Change Password</label>
            <input
              type="password"
              class="form-control"
              id="password"
              name="password"
              placeholder="Leave blank to keep current password" />
          </div>
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
      </section>

      <hr />

      <!-- Theming Settings Section -->
      <section id="theme-settings">
        <h2>Theme Settings</h2>
        <form method="POST" action="{{ url_for('profile.profile_page') }}">
          <div class="form-group">
            <label for="theme">Select Theme</label>
            <select class="form-select" id="theme" name="theme">
                <option value="cerulean" {% if session['bootswatch_theme'] == 'cerulean' %} selected {% endif %}>Cerulean</option>
                <option value="cosmo" {% if session['bootswatch_theme'] == 'cosmo' %} selected {% endif %}>Cosmo</option>
                <option value="cyborg" {% if session['bootswatch_theme'] == 'cyborg' %} selected {% endif %}>Cyborg</option>
                <option value="flatly" {% if session['bootswatch_theme'] == 'flatly' %} selected {% endif %}>Flatly</option>
                <option value="journal" {% if session['bootswatch_theme'] == 'journal' %} selected {% endif %}>Journal</option>
                <option value="litera" {% if session['bootswatch_theme'] == 'litera' %} selected {% endif %}>Litera</option>
                <option value="lux" {% if session['bootswatch_theme'] == 'lux' %} selected {% endif %}>Lux</option>
                <option value="minty" {% if session['bootswatch_theme'] == 'minty' %} selected {% endif %}>Minty</option>
                <option value="pulse" {% if session['bootswatch_theme'] == 'pulse' %} selected {% endif %}>Pulse</option>
                <option value="sandstone" {% if session['bootswatch_theme'] == 'sandstone' %} selected {% endif %}>Sandstone</option>
                <option value="simplex" {% if session['bootswatch_theme'] == 'simplex' %} selected {% endif %}>Simplex</option>
                <option value="sketchy" {% if session['bootswatch_theme'] == 'sketchy' %} selected {% endif %}>Sketchy</option>
                <option value="spacelab" {% if session['bootswatch_theme'] == 'spacelab' %} selected {% endif %}>Spacelab</option>
                <option value="united" {% if session['bootswatch_theme'] == 'united' %} selected {% endif %}>United</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary mt-3">Save Theme</button>
        </form>
      </section>

      <hr />

      <!-- Privacy Settings Section -->
      <section id="privacy-settings">
        <h2>Privacy Settings</h2>
        <form method="POST" action="{{ url_for('profile.profile_page') }}">
          <div class="form-group">
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input"
                id="emailVisibility"
                name="email_visibility"
                {%
                if
                current_user.email_visibility
                %}
                checked
                {%
                endif
                %} />
              <label class="form-check-label" for="emailVisibility"
                >Make email visible to other users</label
              >
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input"
                id="dataSharing"
                name="data_sharing"
                {%
                if
                current_user.data_sharing
                %}
                checked
                {%
                endif
                %} />
              <label class="form-check-label" for="dataSharing"
                >Allow data sharing for analytics</label
              >
            </div>
          </div>
          <button type="submit" class="btn btn-primary mt-3">
            Save Privacy Settings
          </button>
        </form>
      </section>

      <hr />

      <!-- Notification Settings Section -->
      <section id="notifications">
        <h2>Notification Settings</h2>
        <form method="POST" action="{{ url_for('profile.profile_page') }}">
          <div class="form-group">
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input"
                id="emailNotifications"
                name="email_notifications"
                {%
                if
                current_user.email_notifications
                %}
                checked
                {%
                endif
                %} />
              <label class="form-check-label" for="emailNotifications"
                >Receive email notifications</label
              >
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input"
                id="smsNotifications"
                name="sms_notifications"
                {%
                if
                current_user.sms_notifications
                %}
                checked
                {%
                endif
                %} />
              <label class="form-check-label" for="smsNotifications"
                >Receive SMS notifications</label
              >
            </div>
          </div>
          <button type="submit" class="btn btn-primary mt-3">
            Save Notification Settings
          </button>
        </form>
      </section>
    </main>
  </div>
</div>
{% endblock %}
