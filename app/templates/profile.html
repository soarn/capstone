{% extends "base.html" %} {% block title %}Profile - Customize Your Experience{%
endblock %} {% block content %}
<div class="container-fluid">
  <div class="row">
    <!-- Left-side navigation -->
    <nav id="profile-nav" class="col-md-3 col-lg-2 d-md-block bg-light sidebar">
      <div class="position-sticky">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link active" href="#account-settings">
              <span data-feather="home"></span>
              Account Settings
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#theme-settings">
              <span data-feather="file"></span>
              Theme Settings
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#privacy-settings">
              <span data-feather="file"></span>
              Privacy Settings
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#notifications">
              <span data-feather="file"></span>
              Notification Settings
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Main content for settings -->
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <div
        class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
        <h1 class="h2">Profile Settings</h1>
        <div id="last-login">
          <h4>Last Login</h4>
          <p>{{ current_user.last_login or "This is your first login!" }}</p>
        </div>
      </div>

      <!-- Account Settings Section -->
      <section id="account-settings">
        <h2>Account Settings</h2>
        <form method="POST" novalidate>
          {{ form.hidden_tag() }}
          <div class="form-group mb-3">
              {{ form.username.label }}
              {{ form.username(class="form-control", required=True) }}
          </div>
          <div class="form-group mb-3">
              {{ form.email.label }}
              {{ form.email(class="form-control", required=True) }}
          </div>
          <div class="form-group mb-3">
              {{ form.password.label }}
              {{ form.password(class="form-control", placeholder="Leave blank to keep current password") }}
          </div>

          <hr />
          <h2>Theme Settings</h2>

          <div class="form-group mb-3">
              {{ form.theme.label }}
              {{ form.theme(class="form-select") }}
          </div>
          <select class="form-select" id="theme" name="theme">
            {% for theme in themes %}
            <option value="{{ theme['name'] }}" {% if current_user.theme == theme['name'] %} selected {% endif %}>
              {{ theme['name'] }} - {{ theme['description'] }}
              </option>
            {% else %}
              <option value="default">No themes available</option>
            {% endfor %}
          </select>

          <hr />
          <h2>Privacy Settings</h2>

          <div class="form-check mb-3">
              {{ form.notifications(class="form-check-input") }}
              {{ form.notifications.label }}
          </div>
          <div class="form-check mb-3">
              {{ form.data_sharing(class="form-check-input") }}
              {{ form.data_sharing.label }}
          </div>

          <hr />
          <h2>Accessability Settings</h2>

          <div class="form-check mb-3">
              {{ form.confetti_enabled(class="form-check-input") }}
              {{ form.confetti_enabled.label }}
          </div>
          {{ form.submit(class="btn btn-primary mt-3") }}
      </form>
      </section>
{% endblock %}
